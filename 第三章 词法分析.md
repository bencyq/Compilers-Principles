# 词法分析

## 正则表达式

### 基本概念

- 正则表达式是一种用来描述*正则语言*的*更紧凑*的表示方法。
- 正则表达式可以由较小的正则表达式按照特定规则*递归*地构建。每个正则表达式 r 定义（表示）一个语言，记为 $L(r)$。这个语言也是根据 r 的子表达式所表示的语言递归定义的。

### 定义

- $\epsilon$ （空串）是一个 RE（正则表达式），则 $L(\epsilon)=\{\epsilon\}$（空串的正则表达式所包含的语言就只有空串）

- 如果 $\alpha \in\Sigma$，则 $\alpha$ 是一个 RE，$L(\alpha)=\{\alpha\}$

- 假设 r 和 s 都是 RE，表示的语言分别是 L(r) 和 L(s)，则

  r|s 是一个 RE，$L(r|s)=L(r)\cup L(s)$

  rs 是一个 RE，$L(rs)=L(r)L(s)$

  $r^{*}$ 是一个 RE, $L\left(r^{*}\right)=(L(r))^{n}$
  
  (r) 是一个 RE，$L((r))=L(r)$
  
  运算优先级：*、连接、|（由高到低）

### 例

![image-20210503140900079](doc/image-20210503140900079.png)

![image-20210503141026696](doc/image-20210503141026696.png)

### 正则语言

可以用正则表达式（RE）定义的语言叫做**正则语言**或**正则集合**

### 正则表达式的代数定律

![image-20210503141211972](doc/image-20210503141211972.png)

### 正则文法与正则表达式等价

对于任何正则表达式 G，存在定义同一语言的正则表达式 r

对任何正则表达式 r，存在生成同一语言的正则文法 G

## 正则定义

正则定义是具有如下形式的定义序列：
$$
d_1\rightarrow r_1\\
d_2\rightarrow r_2\\
...\\
d_n\rightarrow r_n
$$
其中：每个 d<sub>i</sub> 都是一个*新符号*，它们都不在字母表 $\Sigma$ 中，而且各不相同

​          每个 r<sub>i</sub> 是字母表 $\Sigma \cup\{d_1,d_2,...,d_{i-1}\}$ 上的正则表达式 

即：正则定义是给一些 RE 命名，并在之后的 RE 中像使用字母表中的符号一样使用这些名字

例：

<img src="doc/image-20210503142705227.png" alt="image-20210503142705227" style="zoom:50%;" /> 

<img src="../../../Users/Bencyq/AppData/Roaming/Typora/typora-user-images/image-20210503142945177.png" alt="image-20210503142945177" style="zoom:50%;" /> 

## 有穷自动机

### 基本概念

- 有穷自动机（FA）是对*一类处理系统*建立的数学模型
- 这类系统具有一系列*离散的输入输出信息*和*有穷数目的内部状态*（状态：概括了对过去输入信息处理的状况）
- 系统只需要根据*当前所处的状态*和*当前面临的输入信息*就可以决定系统的*后继行为*。每当系统处理了当前的输入后，系统的*内部状态也将发生改变*

### 模型

![image-20210504093713285](doc/s)

### 表示

<img src="doc/image-20210504095240756.png" alt="image-20210504095240756" style="zoom:67%;" />

### 有穷自动机定义（接受）的语言

- 给定输入串 x，如果存在一个对应于串 x 的从*初始状态*到*某个终止状态*的转换序列，则称串 x 被该 FA *接收*
- 由一个有穷自动机 M 接受的所有串构成的集合称为是*该 FA 定义（或接受）的语言*，记为 *L(M)*

例如：

![image-20210504101019314](doc/image-20210504101019314.png)

1. abbaabb就能被上图的有穷自动机接受
2. L(M) = 所有以 abb 结尾的字母表{a, b} 上的串的集合

### 最长子串匹配原则

- 当输入串的*多个前缀*与一个或多个模式匹配时，总是选择*最长的前缀*进行匹配

  ![image-20210504101629476](doc/image-20210504101629476.png) 

- 在到达某个终态之后，只要输入带上还带有符号，FA 就继续前进，以便寻找尽可能长的匹配

## 有穷自动机的分类

1. 确定的有穷自动机（DFA）
2. 非确定的有穷自动机（NFA）

### DFA

$$
M=\left(S, \Sigma, \delta, s_{0}, F\right)
$$

![image-20210505104014247](doc/image-20210505104014247.png)

例：

![转换图](doc/image-20210505104758036.png)

如上图所示，也可以用*转换表*表示 DFA

### NFA

![image-20210505105512371](doc/image-20210505105512371.png)

